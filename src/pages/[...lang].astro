---
import Layout from '@/layouts/Layout.astro';
import Header from '@/components/Header.vue';
import Hero from '@/components/Hero.vue';
import Services from '@/components/Services.vue';
import About from '@/components/About.vue';
import Contact from '@/components/Contact.vue';

// Generate static paths for both language routes
export function getStaticPaths() {
  return [
    { params: { lang: undefined } },  // Root path '/' for Norwegian (default)
    { params: { lang: 'en' } }        // '/en/' for English
  ];
}

// Determine locale from URL param, default to 'no' for root
const { lang } = Astro.params;
const locale = lang || 'no';
---

<Layout locale={locale}>
  <Header client:load locale={locale} />
  <main>
    <Hero client:load locale={locale} />
    <Services client:load locale={locale} />
    <About client:load locale={locale} />
    <Contact client:load locale={locale} />
  </main>
</Layout>
